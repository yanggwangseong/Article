---
layout: default
---

<article>
  <div>
    <h1>{{ page.title }}</h1>
    <time datetime="{{ page.last_modified_at | date_to_xmlschema }}"
      >{% if page.type != 'pages' %} Last updated on {{ page.last_modified_at |
      date: "%B %-d, %Y" }} {% endif %}
    </time>
  </div>

  <div id="notes-entry-container" style="display: flex; gap: 2rem; align-items: flex-start;">
    <!-- 목차 (TOC) -->
    <nav class="toc-nav" style="min-width: 220px;">
      <h3 style="margin-bottom: 1em; font-size: 1.1em;">목차</h3>
      <ul class="toc-list">
        {% assign headings = content | split: '<h' %}
        {% for h in headings %}
          {% if forloop.first == false %}
            {% assign level = h | truncate: 1, '' %}
            {% if level == '1' or level == '2' or level == '3' %}
              {% assign header = h | split: '</h' | first %}
              {% assign title = header | split: '>' | last | strip %}
              {% assign id = title | downcase | replace: ' ', '-' | replace: '.', '' | replace: ':', '' %}
              <li class="toc-h{{ level }}"><a href="#{{ id }}">{{ title }}</a></li>
            {% endif %}
          {% endif %}
        {% endfor %}
      </ul>
    </nav>
    <content style="flex:1;">
      {{ content }}
      <p>This line appears after every note.</p>
    </content>

    <side style="font-size: 0.9em">
      <h3 style="margin-bottom: 1em">Series</h3>
      {% if page.backlinks.size > 0 %}
      <div
        style="display: grid; grid-gap: 1em; grid-template-columns: repeat(1fr)"
      >
        <div class="backlink-box">
          {% for backlink in page.backlinks %}
          <a
            class="internal-link"
            href="{{ site.baseurl }}{{ backlink.url }}{%- if site.use_html_extension -%}.html{%- endif -%}"
            >{{ backlink.title }}</a
          ><br />
          <!-- <div style="font-size: 0.9em">
            {{ backlink.excerpt | strip_html | truncatewords: 0 }}
          </div> -->
          {% endfor %}
        </div>
        <br />
        <!-- 그래프 숨김 -->
        <!-- {% include notes_graph.html %} -->
      </div>
      {% else %}

      <div style="font-size: 0.9em">
        <p>There are no notes linking to this note.</p>
      </div>
      {% endif %}
    </side>
  </div>
</article>

<style>
.toc-nav {
  position: sticky;
  top: 2rem;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  padding: 1.2rem 1.2rem 1.2rem 1.5rem;
  font-size: 1rem;
  max-height: 70vh;
  overflow-y: auto;
}
.toc-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.toc-h1 { margin-bottom: 0.7em; font-weight: bold; }
.toc-h2 { margin-left: 1em; margin-bottom: 0.5em; }
.toc-h3 { margin-left: 2em; margin-bottom: 0.3em; }
.toc-list a {
  color: #2563eb;
  text-decoration: none;
  font-size: 0.98em;
  transition: color 0.15s;
}
.toc-list a:hover {
  color: #1e293b;
  text-decoration: underline;
}
@media (max-width: 900px) {
  .toc-nav { display: none; }
}
</style>
