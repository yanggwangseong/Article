---
title: B+-트리 인덱스 파일
permalink: /cs/database/database-system-7th/ch-14-b-tree-index-file
tags:
  - Database
layout: page
---

# B +- 트리 인덱스 파일

## 인덱스 순차 파일의 단점

- 파일이 커질수록, 인덱스를 찾아서 그 데이터를 연속적으로 스캔하는 성능이 감소한다.
- 성능 감소는 파일을 재구성함으로써 제거될 수 있지만, 파일 재구성에 드는 비용은 크다.


## B+- tree index

- **B+- tree index** 구조는 데이터의 삽입과 삭제에도 불구하고 성능을 유지하는 몇몇 인덱스 구조 중 가장 널리 사용된다.
- 트리의 Root에서 Leaf 노드까지 모든 경로의 길이가 같은 **balanced tree** 균형 트리 형태다.
- root 노드를 제외한 비단말 노드는 **⎡n/2⎤~ n** 사이의 자식(children)을 가지고 있다.
	- 즉, 50% 이상이 차있어야 한다. ( n은 특정한 트리에 대한 고정된 값)
- leaf 노드는 **⎡(n-1)/2⎤~ n-1** 사이의 개수만큼 value를 가진다

**[이미지] instructor B+-트리 인덱스의 단말 노드 (n = 4)**

![](/assets/database-system08.png)

이 구조는 삽입과 삭제 시 성능 부담과 공간 부담을 준다.
하지만 이 성능 부담은 파일의 변경이 많은 경우에 파일 재구성 비용을 피할 수 있기에 수용될 수 있다.

## B+-트리의 구조

- B+- 트리 인덱스는 다계층 인덱스이다.
- 중복 검색 키 값이 없다고 가정하자. 즉, 각각의 **search key(검색키)** 는 유니크하다.




# QA)

- **root 노드만 존재하는 경우?** 
	- 즉, root 노드가 leaf 노드인 경우
	- root 노드는 2 ~ n개 사이의 자식을 갖는다.
	- root 노드가 leaf 노드라면 (트리에 root 노드만 존재한다면) **0 ~ (n-1) 사이의 개수만큼 value를 가진다** 
