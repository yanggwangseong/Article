
- [ë§ˆí‹´ íŒŒìš¸ëŸ¬ Test Pyramid](https://martinfowler.com/bliki/TestPyramid.html) 
- [The Practical Test Pyramid](https://martinfowler.com/articles/practical-test-pyramid.html) 

- ğŸ“„ **Martin Fowler - Test Pyramid** â†’ í…ŒìŠ¤íŠ¸ ê³„ì¸µ êµ¬ì¡°ì™€ ìµœì í™”
- ğŸ“„ **[Testing JavaScript - Kent C. Dodds](https://testingjavascript.com/)** â†’ Jest ë° í…ŒìŠ¤íŒ… ì›ì¹™ ì •ë¦¬

- **í…ŒìŠ¤íŠ¸ì˜ ê¸°ë³¸ ê°œë…**
    - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test) vs í†µí•© í…ŒìŠ¤íŠ¸(Integration Test) vs E2E í…ŒìŠ¤íŠ¸(End-to-End Test)
    - TDD(Test-Driven Development) vs BDD(Behavior-Driven Development)
    - Mockingê³¼ Stubbingì˜ ì°¨ì´
    - Given-When-Then íŒ¨í„´ (í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„± ë°©ì‹)
- **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ê¸°ë²•**
    - First-Class Test (ì¢‹ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ íŠ¹ì§•)
    - Test Pyramid (í…ŒìŠ¤íŠ¸ì˜ ê³„ì¸µ êµ¬ì¡°: Unit > Integration > E2E)
    - F.I.R.S.T ì›ì¹™ (Fast, Independent, Repeatable, Self-validating, Timely)
    - AAA íŒ¨í„´ (Arrange, Act, Assert)
- **Mocking ë° Dependency Injection í™œìš©**
    - Jest + NestJSì—ì„œ `@nestjs/testing`ì„ í™œìš©í•œ ëª¨í‚¹
    - JUnitì˜ `Mockito`ì™€ Jestì˜ `jest.mock()` ë¹„êµ
    - Repository, Service ê³„ì¸µì˜ ì˜ì¡´ì„± ì£¼ì…(MockRepository, FakeService í™œìš©)
- **E2E í…ŒìŠ¤íŠ¸ì—ì„œ ì¤‘ìš”í•˜ê²Œ ë³¼ ê°œë…**
    - `supertest`ë¥¼ í™œìš©í•œ HTTP ìš”ì²­ í…ŒìŠ¤íŠ¸ (NestJS)
    - `TestContainer` íŒ¨í„´ì„ ì´ìš©í•œ ë…ë¦½ì ì¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì„±
    - ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ì—°ë™ í…ŒìŠ¤íŠ¸ (íŠ¸ëœì­ì…˜ ë¡¤ë°±, í…ŒìŠ¤íŠ¸ìš© DB ì‚¬ìš©)
- **ì½”ë“œ ì»¤ë²„ë¦¬ì§€ ë° í…ŒìŠ¤íŠ¸ ìë™í™”**
    - `jest --coverage`ë¡œ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ì¸¡ì •
    - GitHub Actions, GitLab CI/CDì—ì„œ Jest í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ìë™í™”
    - í…ŒìŠ¤íŠ¸ ë³‘ë ¬ ì‹¤í–‰ ë° ì„±ëŠ¥ ìµœì í™”

# Unit Test

- [ë§ë‚˜ë‹ˆ ê°œë°œì Test 1í¸](https://mangkyu.tistory.com/143) 
- [ë§ë‚˜ë‹ˆ ê°œë°œì Test 2í¸](https://mangkyu.tistory.com/144) 
- [ë§ë‚˜ë‹ˆ ê°œë°œì Test 3í¸](https://mangkyu.tistory.com/145) 
- [ìœ ë‹› í…ŒìŠ¤íŠ¸ AAAíŒ¨í„´, í…ŒìŠ¤íŠ¸ í”½ìŠ¤í„°, ëª…ëª…ë²•](https://kukim.tistory.com/47) 
- **Mock, Stub, Fake** 
- First-Class Test (ì¢‹ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ íŠ¹ì§•)
- F.I.R.S.T ì›ì¹™ (Fast, Independent, Repeatable, Self-validating, Timely)
- Given-When-Then íŒ¨í„´
- Test Pyramid (í…ŒìŠ¤íŠ¸ì˜ ê³„ì¸µ êµ¬ì¡°: Unit > Integration > E2E)
- ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” ì–´ë””ê¹Œì§€ ì‘ì„±í•´ì•¼í• ê¹Œ?
	- controller?, service?, repository?
	-  ì™œ `gaurd, pipe, filter, decorator` ë“±ì€ Unit Testë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ” ê±¸ê¹Œ?
- **ì§ˆë¬¸) ìœ ë‹› í…ŒìŠ¤íŠ¸ ì‘ì„± ë²”ìœ„**
	- ë‹¤ë¥¸ê³³ì—ì„œ ì œê³µí•˜ëŠ” ë‹¨ìœ„ë‹¤? ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ í”„ë ˆì„ì›Œí¬ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥
		- ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ í”„ë ˆì„ì›Œí¬ì—ì„œ ë³´ì¥í•œë‹¤ê³  ê°€ì •í•˜ê³  ìœ„ì„
	- ê°œë°œìê°€ ì‘ì„±í•œ ë‹¨ìœ„ service, repositoryë¼ë©´ unit test ì‘ì„±
- **ì§ˆë¬¸) Mock, Stub, Fake ë²”ìœ„** 
- **ì§ˆë¬¸ ì¤‘ìš”) controllerì— ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„± í•´ì•¼í•˜ë‚˜ìš”?** 
	- e2e í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ì„œ controller ì½”ë“œë„ í…ŒìŠ¤íŠ¸ í•˜ê¸° ë–„ë¬¸ì— ì»¤ë²„ë¦¬ì§€ê°€ ì˜¬ë¼ê°€ëŠ”ë° ê·¸ë ‡ë‹¤ë©´ controllerì˜ unit testëŠ” ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ë˜ì§€ ì•Šë‚˜?

# E2E Test

- Nodeì—ì„œëŠ” ë³´í†µ SQLite in-memory or Docker DB ì‚¬ìš©)
- CIí™˜ê²½ì—ì„œ [SuperTest ì‚¬ìš©ê³¼ ë¹„ì¥¬ì–¼ë¼ì´ì¦ˆ](https://naodeng.medium.com/supertest-tutorial-advanced-usage-integration-ci-cd-and-github-action-565bf80d3e7e) 
- **ë©˜í† ë‹˜ì—ê²Œ E2Eì— ëŒ€í•œê²ƒì„ ì§ˆë¬¸ í•˜ê³  ì´ìŠˆ ìƒì„± Prì„ í”¼ë“œë°± ë°›ìœ¼ë©´ ì¢‹ê² ë‹¤** 
- ì–´ë µë„¤ ë¡œì»¬ ë””ë¹„? ë„ì»¤ë¡œ CI í™˜ê²½ì—ì„œ ë””ë¹„ ë„ìš°ê¸°? ë„ì»¤ë¡œ ë””ë¹„ ë„ìš°ë©´ ë¡œì»¬ì—ì„œ ê°œë³„ API e2e í…ŒìŠ¤íŠ¸ë‚˜ CI í™˜ê²½ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš© í•  ìˆ˜ ìˆì§€ ì•Šë‚˜?


# NestJS Test

- https://docs.nestjs.com/fundamentals/testing
- [Jest doc](https://jestjs.io/docs/getting-started) 
- [SuperTest doc](https://github.com/ladjs/supertest) 

