---
title: mokakbab-issue
permalink: /wating/aws-스캐닝
---

```
2025년 1월 07일 12:02 (UTC+9:00)
UnauthorizedException: 토큰이 없습니다!
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 12:02 (UTC+9:00)
at AccessTokenGuard.canActivate (/app/dist/common/guards/bearer-token.guard.js:66:19)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 12:02 (UTC+9:00)
at AccessTokenGuard.canActivate (/app/dist/common/guards/bearer-token.guard.js:87:21)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 12:02 (UTC+9:00)
at GuardsConsumer.tryActivate (/app/node_modules/@nestjs/core/guards/guards-consumer.js:15:34)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 12:02 (UTC+9:00)
at canActivateFn (/app/node_modules/@nestjs/core/router/router-execution-context.js:135:59)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 12:02 (UTC+9:00)
at /app/node_modules/@nestjs/core/router/router-execution-context.js:42:37
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 12:02 (UTC+9:00)
at /app/node_modules/@nestjs/core/router/router-proxy.js:9:23
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 12:02 (UTC+9:00)
at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 12:02 (UTC+9:00)
at next (/app/node_modules/express/lib/router/route.js:149:13)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 12:02 (UTC+9:00)
at Route.dispatch (/app/node_modules/express/lib/router/route.js:119:3)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 12:02 (UTC+9:00)
at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
[31m[Nest] 25 - [39m01/07/2025, 2:33:15 AM [31m ERROR[39m [38;5;3m[GlobalExceptionFilter] [39m[31mException: Cannot POST /[39m
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
NotFoundException: Cannot POST /
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at callback (/app/node_modules/@nestjs/core/router/routes-resolver.js:77:19)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at /app/node_modules/@nestjs/core/router/router-proxy.js:9:23
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at trim_prefix (/app/node_modules/express/lib/router/index.js:328:13)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at /app/node_modules/express/lib/router/index.js:286:9
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at Function.process_params (/app/node_modules/express/lib/router/index.js:346:12)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at next (/app/node_modules/express/lib/router/index.js:280:10)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at /app/node_modules/body-parser/lib/read.js:137:5
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at invokeCallback (/app/node_modules/raw-body/index.js:238:16)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
[31m[Nest] 25 - [39m01/07/2025, 2:33:14 AM [31m ERROR[39m [38;5;3m[GlobalExceptionFilter] [39m[31mException: Cannot GET /.env[39m
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
NotFoundException: Cannot GET /.env
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at callback (/app/node_modules/@nestjs/core/router/routes-resolver.js:77:19)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at /app/node_modules/@nestjs/core/router/router-proxy.js:9:23
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at trim_prefix (/app/node_modules/express/lib/router/index.js:328:13)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at /app/node_modules/express/lib/router/index.js:286:9
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at Function.process_params (/app/node_modules/express/lib/router/index.js:346:12)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at next (/app/node_modules/express/lib/router/index.js:280:10)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at urlencodedParser (/app/node_modules/body-parser/lib/types/urlencoded.js:94:7)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)
e25cd3d766a84bfe903f7854fcdbf305
nestjs-app
2025년 1월 07일 11:33 (UTC+9:00)
at trim_prefix (/app/node_modules/express/lib/router/index.js:328:13)
```

- 배포 후에 공격자가 자동화된 스캔 도구나 스크립트를 사용해서 공격합니다.
- [해결 방법 블로그 WAF방어](https://velog.io/@jghff700/AWS-WAF%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%8A%A4%EC%BA%94-%EB%8C%80%EC%9D%91) 
- `Fail2Ban` 리눅스라면 해당 기능을 통해서 방어가 가능할것 같다.